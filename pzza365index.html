<!DOCTYPE html>
<html>
  <title>Bootstrap template- Pizza 365 project</title>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <!-- font -->
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato" />
  <link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"
  />

  <!-- Bootstrap -->
  <link
    rel="stylesheet"
    href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"
  />
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

  <body>
    <!-- Menu -->
    <div class="container-fluid bg-light">
      <div class="row">
        <div class="col-sm-12">
          <nav class="navbar fixed-top navbar-expand-lg navbar-light bg-light">
            <button
              class="navbar-toggler"
              type="button"
              data-toggle="collapse"
              data-target="#navbarNav"
              aria-controls="navbarNav"
              aria-expanded="false"
              aria-label="Toggle navigation"
            >
              <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
              <ul class="navbar-nav nav-fill w-100">
                <li class="nav-item active">
                  <a class="nav-link" href="#">Home</a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="#plans">Plans</a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="#about">About</a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="#contact">Contact</a>
                </li>
              </ul>
            </div>
          </nav>
        </div>
      </div>
    </div>

    <!-- Content -->
    <div class="container" style="padding: 120px 0 50px 0">
      <div class="row">
        <div class="col-sm-12">
          <div class="row">
            <!-- Title row home -->
            <div class="col-sm-12">
              <h1><b>PIZZA 365 TRULY ITALIAN</b></h1>
            </div>

            <!-- Slide row home -->
            <div class="col-sm-12">
              <div
                id="carouselExampleIndicators"
                class="carousel slide"
                data-ride="carousel"
              >
                <ol class="carousel-indicators">
                  <li
                    data-target="#carouselExampleIndicators"
                    data-slide-to="0"
                    class="active"
                  ></li>
                  <li
                    data-target="#carouselExampleIndicators"
                    data-slide-to="1"
                  ></li>
                  <li
                    data-target="#carouselExampleIndicators"
                    data-slide-to="2"
                  ></li>
                  <li
                    data-target="#carouselExampleIndicators"
                    data-slide-to="3"
                  ></li>
                  <li
                    data-target="#carouselExampleIndicators"
                    data-slide-to="4"
                  ></li>
                </ol>
                <div class="carousel-inner">
                  <div class="carousel-item active">
                    <img
                      class="d-block w-100"
                      src="images/mon_y_1.jpg"
                      alt="First slide"
                    />
                  </div>
                  <div class="carousel-item">
                    <img
                      class="d-block w-100"
                      src="images/mon_y_2.jpg"
                      alt="Second slide"
                    />
                  </div>
                  <div class="carousel-item">
                    <img
                      class="d-block w-100"
                      src="images/mon_y_3.jpg"
                      alt="Third slide"
                    />
                  </div>
                  <div class="carousel-item">
                    <img
                      class="d-block w-100"
                      src="images/mon_y_4.jpg"
                      alt="Fourth slide"
                    />
                  </div>
                  <div class="carousel-item">
                    <img
                      class="d-block w-100"
                      src="images/mon_y_5.jpg"
                      alt="Fifth slide"
                    />
                  </div>
                </div>
                <a
                  class="carousel-control-prev"
                  href="#carouselExampleIndicators"
                  role="button"
                  data-slide="prev"
                >
                  <span
                    class="carousel-control-prev-icon"
                    aria-hidden="true"
                  ></span>
                  <span class="sr-only">Previous</span>
                </a>
                <a
                  class="carousel-control-next"
                  href="#carouselExampleIndicators"
                  role="button"
                  data-slide="next"
                >
                  <span
                    class="carousel-control-next-icon"
                    aria-hidden="true"
                  ></span>
                  <span class="sr-only">Next</span>
                </a>
              </div>
            </div>

            <!-- Title what we offer -->
            <div class="col-sm-12 text-center p-4 mt-4">
              <h2>
                <b class="p-2 border-bottom">TẠI SAO LẠI CHỌN CHÚNG TÔI?</b>
              </h2>
            </div>

            <!-- Content what we offer -->
            <div class="col-sm-12">
              <div class="row">
                <div class="col-sm-3 p-4 bg-primary text-white border">
                  <h3 class="p-2">Hương Vị</h3>
                  <p class="p-2">
                    Không dễ để có thể tìm được hương vị như vậy ở nơi khác !
                  </p>
                </div>
                <div class="col-sm-3 p-4 bg-warning border">
                  <h3 class="p-2">Thương Hiệu</h3>
                  <p class="p-2">
                    Chúng tôi có truyền thống làm pizza Ý tại Sài Gòn đã 10 năm
                    !
                  </p>
                </div>
                <div class="col-sm-3 p-4 bg-danger text-white border">
                  <h3 class="p-2">Giao Hàng</h3>
                  <p class="p-2">
                    Hệ thống giao hàng rộng khắp Sài Gòn sẽ không làm bạn thất
                    vọng
                  </p>
                </div>
                <div class="col-sm-3 p-4 bg-success text-white border">
                  <h3 class="p-2">Phục vụ</h3>
                  <p class="p-2">
                    Chúng tôi tự hào là cửa hàng có thái độ phục vụ hàng đầu
                    thành phố
                  </p>
                </div>
              </div>
            </div>
          </div>

          <div id="plans" class="row">
            <!-- Title what we offer -->
            <div class="col-sm-12 text-center p-4 mt-4">
              <h2>
                <b class="p-1 border-bottom">MENU COMBO PIZZA 365</b>
              </h2>
              <p>
                <span class="p-2">HÃY CHỌN LOẠI PIZZA BẠN THÍCH!</span>
              </p>
            </div>
            <!-- Content what we offer -->
            <div class="col-sm-12">
              <div class="row">
                <div class="col-sm-4">
                  <div class="card">
                    <div class="card-header bg-dark text-white text-center">
                      <h3>SMALL</h3>
                    </div>
                    <div class="card-body text-center">
                      <ul class="list-group list-group-flush">
                        <li class="list-group-item"><b>Đường kính:</b> 20cm</li>
                        <li class="list-group-item"><b>Sườn nướng</b> 2</li>
                        <li class="list-group-item"><b>Salad: </b> 200g</li>
                        <li class="list-group-item"><b>Nước ngọt</b> 2</li>
                        <li class="list-group-item">
                          <h1><b>VND 150.000</b></h1>
                        </li>
                      </ul>
                    </div>
                    <div class="card-footer text-center">
                      <button class="btn btn-success">CHỌN</button>
                    </div>
                  </div>
                </div>
                <div class="col-sm-4">
                  <div class="card">
                    <div
                      class="card-header bg-secondary text-white text-center"
                    >
                      <h3>MEDIUM</h3>
                    </div>
                    <div class="card-body text-center">
                      <ul class="list-group list-group-flush">
                        <li class="list-group-item"><b>Đường kính:</b> 25cm</li>
                        <li class="list-group-item"><b>Sườn nướng</b> 4</li>
                        <li class="list-group-item"><b>Salad: </b> 300g</li>
                        <li class="list-group-item"><b>Nước ngọt</b> 3</li>
                        <li class="list-group-item">
                          <h1><b>VND 200.000</b></h1>
                        </li>
                      </ul>
                    </div>
                    <div class="card-footer text-center">
                      <button class="btn btn-success">CHỌN</button>
                    </div>
                  </div>
                </div>
                <div class="col-sm-4">
                  <div class="card">
                    <div class="card-header bg-dark text-white text-center">
                      <h3>LARGE</h3>
                    </div>
                    <div class="card-body text-center">
                      <ul class="list-group list-group-flush">
                        <li class="list-group-item"><b>Đường kính:</b> 30cm</li>
                        <li class="list-group-item"><b>Sườn nướng</b> 8</li>
                        <li class="list-group-item"><b>Salad: </b> 500g</li>
                        <li class="list-group-item"><b>Nước ngọt</b> 4</li>
                        <li class="list-group-item">
                          <h1><b>VND 150.000</b></h1>
                        </li>
                      </ul>
                    </div>
                    <div class="card-footer text-center">
                      <button class="btn btn-success">CHỌN</button>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div id="about" class="row">
            <!-- Title Who We Are -->
            <div class="col-sm-12 text-center p-4 mt-4">
              <h2><b class="p-2 border-bottom">Chọn Loại Pizza</b></h2>
            </div>

            <!-- Content Who We Are -->
            <div class="col-sm-12">
              <div class="row">
                <div class="col-sm-4">
                  <div class="card w-100" style="width: 18rem">
                    <img src="images/pizza_type_1.jpg" class="card-img-top" />
                    <div class="card-body">
                      <h3 class="h3-pizza-name">Bacon</h3>
                      <button
                        class="mb-2 btn btn-sm btn-danger btn-pizza-price"
                      >
                        200000
                      </button>
                      <p>
                        Phasellus eget enim eu lectus faucibus vestibulum.
                        Suspendisse sodales pellentesque elementum.
                      </p>
                      <p><button class="btn btn-info w-100">CHỌN</button></p>
                    </div>
                  </div>
                </div>
                <div class="col-sm-4">
                  <div class="card w-100" style="width: 18rem">
                    <img src="images/pizza_type_2.jpg" class="card-img-top" />
                    <div class="card-body">
                      <h3 class="h3-pizza-name">Hải Sản</h3>
                      <button
                        class="mb-2 btn btn-sm btn-danger btn-pizza-price"
                      >
                        300000
                      </button>
                      <p>
                        Phasellus eget enim eu lectus faucibus vestibulum.
                        Suspendisse sodales pellentesque elementum.
                      </p>
                      <p>
                        <button class="btn btn-info w-100">CHỌN</button>
                      </p>
                    </div>
                  </div>
                </div>
                <div class="col-sm-4">
                  <div class="card w-100" style="width: 18rem">
                    <img src="images/pizza_type_3.jpg" class="card-img-top" />
                    <div class="card-body">
                      <h3 class="h3-pizza-name">Hawai</h3>
                      <button
                        class="mb-2 btn btn-sm btn-danger btn-pizza-price"
                      >
                        400000
                      </button>
                      <p>
                        Phasellus eget enim eu lectus faucibus vestibulum.
                        Suspendisse sodales pellentesque elementum.
                      </p>
                      <p><button class="btn btn-info w-100">CHỌN</button></p>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div id="contact" class="row">
            <!-- Title Contact Us -->
            <div class="col-sm-12 text-center p-4 mt-4">
              <h2><b class="p-2 border-bottom">Gửi đơn hàng</b></h2>
            </div>

            <!-- Content Contact Us -->
            <div class="col-sm-12">
              <div class="row">
                <div class="col-sm-12">
                  <form action="" id="form-data-submit">
                    <div class="form-group">
                      <label for="inputName">Họ và Tên</label>
                      <input
                        type="text"
                        class="form-control"
                        id="inputName"
                        placeholder="Nhập tên"
                      />
                    </div>
                    <div class="form-group">
                      <label for="inputEmail">Email</label>
                      <input
                        type="email"
                        class="form-control"
                        id="inputEmail"
                        placeholder="Nhập email"
                      />
                    </div>
                    <div class="form-group">
                      <label for="inputPhone">Điện thoại</label>
                      <input
                        type="text"
                        class="form-control"
                        id="inputPhone"
                        placeholder="Nhập số điện thoại"
                      />
                    </div>
                    <div class="form-group">
                      <label for="inputAddress">Điện thoại</label>
                      <input
                        type="text"
                        class="form-control"
                        id="inputAddress"
                        placeholder="Nhập dịa chỉ"
                      />
                    </div>
                    <div class="form-group">
                      <label for="inputMessage">Lời nhắc</label>
                      <input
                        type="text"
                        class="form-control"
                        id="inputMessage"
                        placeholder="Nhập lời nhắc"
                      />
                    </div>
                    <div class="form-group">
                      <label for="inputCoupon">Mã giảm giá</label>
                      <input
                        type="text"
                        class="form-control"
                        id="inputCoupon"
                        placeholder="Nhập mã giảm giá"
                      />
                    </div>
                    <button type="submit" class="btn btn-dark w-100">
                      Gửi đơn
                    </button>
                  </form>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div
          class="
            container
            my-4
            p-4
            rounded
            div-info-order
            bg-info
            text-white
            d-none
          "
          id="div-info-order"
        ></div>
      </div>
      <!-- PHần nội dung thông tin khách hàng -->
    </div>

    <!-- Footer -->
    <div class="container-fluid bg-light p-5">
      <div class="row text-center">
        <div class="col-sm-12">
          <h4 class="m-2">Footer</h4>
          <a href="#" class="btn btn-dark m-3"
            ><i class="fa fa-arrow-up"></i>To the top</a
          >
          <div class="m-2">
            <i class="fa fa-facebook-official w3-hover-opacity"></i>
            <i class="fa fa-instagram w3-hover-opacity"></i>
            <i class="fa fa-snapchat w3-hover-opacity"></i>
            <i class="fa fa-pinterest-p w3-hover-opacity"></i>
            <i class="fa fa-twitter w3-hover-opacity"></i>
            <i class="fa fa-linkedin w3-hover-opacity"></i>
          </div>
        </div>
      </div>
    </div>
    <script>
      "use strict";
      /*** REGION 1 - Global variables - Vùng khai báo biến, hằng số, tham số TOÀN CỤC */

      // Khai báo biến toàn cục để lưu các loại pizza
      let gFormDataSubmit = document.getElementById("form-data-submit");

      // Khai báo biến toàn cục để lưu các loại pizza
      let gSelectedPizzaType = [];

      // khai báo biến voucher
      let gDiscountVouchers = ["A1", "B2", "C3", "D4", "E5"];

      // Khai báo một object lấy dữ liệu menu pizza

      let gMenuDataObject = {
        size: "",
        dimesion: null,
        suongNuong: null,
        saLad: null,
        nuocNgot: null,
        gia: "",
      };

      /*** REGION 2 - Vùng gán / thực thi hàm xử lý sự kiện cho các elements */

      // Thực thi hàm chuyển màu khi ấn nút chọn menu
      onClickChangeColorMenu();
      // Thực thi hàm chuyển màu khi ấn nút chọn pizza
      onClickChangeColorPizza();

      // Thực thi hàm submit form
      onSubmitOrderPizza(gSelectedPizzaType, gMenuDataObject);

      /*** REGION 3 - Event handlers - Vùng khai báo các hàm xử lý sự kiện */

      //khai báo hàm thực thi khi ấn nút chuyển màu MENU COMBO(size pizza) + lay du lieu
      function onClickChangeColorMenu() {
        // lựa chọn tất cả phần tử có class là btn btn-success
        let vBtnArrayElements = document.querySelectorAll(".btn.btn-success");
        // Khai báo sự kiện khi ấn bất kỳ đâu vào doom (e)
        document.addEventListener("click", (e) => {
          //truy suat vao node cha cua phan tu menu
          // duyệt mảng các phần tử nút có class là btn btn-sucess
          vBtnArrayElements.forEach((bIn) => {
            // lưu phần tử được ấn và sự kiện đó vào một biến
            let vBtnClickedElement = bIn.contains(e.target);
            // kiểm tra xem ấn vào phần tử btn hay chưa, nếu đúng == true, sai thì == false
            // console.log(vBtnClickedElement);
            // nếu true thì thay đổi class từ success sang warning để đổi màu, sai thì đổi màu ngược lại
            if (vBtnClickedElement) {
              bIn.classList.replace("btn-success", "btn-warning");

              let vDivCardBodyMenu =
                bIn.parentNode.previousSibling.previousSibling;
              //Card header div, dung de truy xuat vao innerHtml cua childnode h3
              let vH3SizeMenu =
                vDivCardBodyMenu.previousSibling.previousSibling.querySelector(
                  "h3"
                );

              let vUlInfoMenu = vDivCardBodyMenu.querySelector("ul");
              let vLiArrayInfoMenu = vUlInfoMenu.querySelectorAll("li");

              gMenuDataObject.dimesion =
                vLiArrayInfoMenu[0].childNodes[1].data.trim();
              gMenuDataObject.suongNuong =
                vLiArrayInfoMenu[1].childNodes[1].data.trim();
              gMenuDataObject.saLad =
                vLiArrayInfoMenu[2].childNodes[1].data.trim();
              gMenuDataObject.nuocNgot =
                vLiArrayInfoMenu[3].childNodes[1].data.trim();
              gMenuDataObject.gia =
                vLiArrayInfoMenu[4].querySelector("b").innerHTML;
              gMenuDataObject.size = vH3SizeMenu.innerHTML;
              console.log(gMenuDataObject);
            } else {
              bIn.classList.replace("btn-warning", "btn-success");
            }
          });
        });
      }

      // Khai báo hàm thực thi chuyển màu khi ấn nút chọn phần "CHỌN LOẠI PIZZA"
      function onClickChangeColorPizza() {
        // lựa chọn tất cả phần tử có class là btn btn-success
        let vBtnArrayElements = document.querySelectorAll(".btn.btn-info");
        //console.log(vBtnArrayElements);
        // Khai báo sự kiện khi ấn bất kỳ đâu vào doom (e)
        document.addEventListener("click", (e) => {
          // duyệt mảng các phần tử nút có class là btn btn-sucess
          vBtnArrayElements.forEach((bIn) => {
            // lưu phần tử được ấn và sự kiện đó vào một biến
            let vBtnClickedElement = bIn.contains(e.target);
            // kiểm tra xem ấn vào phần tử btn hay chưa, nếu đúng == true, sai thì == false
            // console.log(vBtnClickedElement);
            // nếu true thì thay đổi class từ success sang warning để đổi màu, sai thì đổi màu ngược lại
            if (vBtnClickedElement) {
              bIn.classList.replace("btn-info", "btn-warning");
              onClickGetDataPizza(bIn);
            } else {
              bIn.classList.replace("btn-warning", "btn-info");
            }
          });
        });
      }

      // khai baos function in ra console khi chọn loại pizza
      // trả về một mảng chứa object dữ liệu loại pizza

      function onClickGetDataPizza(paramPizza) {
        // khai báo đối tượng pizza
        let vDataPizza = {
          name: "",
          price: "",
        };
        let vDivParrentNodePizzaElement = paramPizza.parentNode.parentNode;
        let vNamePizzaElement =
          vDivParrentNodePizzaElement.querySelector(".h3-pizza-name");
        let vPricePizzaElement =
          vDivParrentNodePizzaElement.querySelector(".btn-pizza-price");

        // kiểm tra xem đã lựa chọn được phần tử hay chưa,
        //console.log(vNamePizzaElement);
        //console.log(vPricePizzaElement);

        // bind data của pizza vào đối tượng pizza
        vDataPizza.name = vNamePizzaElement.innerHTML;
        vDataPizza.price = vPricePizzaElement.innerHTML.trim();
        // push object pizza vào mảng global;
        gSelectedPizzaType.push(vDataPizza);
      }
      console.log(gSelectedPizzaType);

      // khai báo hàm xử lý gửi đơn hàng
      function onSubmitOrderPizza(paramOrder, paramMenu) {
        // Thuc thi ham này khi bấm gửi đơn
        gFormDataSubmit.addEventListener("submit", (e) => {
          e.preventDefault();
          let vLastItemOfArrayPizzaType = paramOrder.at(-1);
          console.log(vLastItemOfArrayPizzaType);
          isValidFormData();
          showDataOrder(vLastItemOfArrayPizzaType);
        });

        let vInputNameOrder = document.getElementById("inputName");
        let vInputEmailOrder = document.getElementById("inputEmail");
        let vInputPhoneOrder = document.getElementById("inputPhone");
        let vInputAddressOrder = document.getElementById("inputAddress");
        let vInputMsgOrder = document.getElementById("inputMessage");
        let vInputCouponOrder = document.getElementById("inputCoupon");

        // khai bao mot object chua du lieu form
        let vFormDataOject = {
          fullName: vInputNameOrder.value.trim(),
          email: vInputEmailOrder.value.trim(),
          phone: parseInt(vInputPhoneOrder.value.trim()),
          message: vInputMsgOrder.value.trim(),
          address: vInputAddressOrder.value.trim(),
          coupon: vInputCouponOrder.value.trim(),
        };

        console.log(vFormDataOject);
        // khai báo hàm xử lý validate form
        function isValidFormData() {
          console.log("ham nay xu ly form data");
        }

        // Khai bao ham show data
        function showDataOrder(paramShow) {
          let vDivInfoOrder = document.getElementById("div-info-order");
          let vTemplateShow = `
            <div class="div-user-info">
              <p>Họ và tên: ${vFormDataOject.fullName}</p>
              <p>Email: ${vFormDataOject.email}</p>
              <p>Điện thoại: ${vFormDataOject.phone}</p>
              <p>Địa chỉ: ${vFormDataOject.address}</p>
              <p>Lời nhắn: ${vFormDataOject.message}</p>
            </div>
            <hr />
            <div class="div-pizza-size">
              <p>Kích cỡ: ${paramMenu.size}</p>
              <p>Đường kính: ${paramMenu.dimesion}</p>
              <p>Sườn nướng: ${paramMenu.suongNuong}</p>
              <p>Salad: ${paramMenu.saLad}</p>
              <p>Nước ngọt: ${paramMenu.nuocNgot}</p>
            </div>
            <hr />
            <div class="div-pizza-type">
              <p>Loại pizza: ${paramShow.name}</p>
              <p>Mã voucher:</p>
              <p>Giá VND: ${paramShow.price}</p>
              <p>Discount: 20% </p>
              <strong>Số tiền phải trả: ${paramShow.price * 0.8} VND</strong>
            </div>
          `;
          vDivInfoOrder.classList.replace("d-none", "d-block");
          vDivInfoOrder.innerHTML = vTemplateShow;
        }
      }

      /*** REGION 4 - Common funtions - Vùng khai báo hàm dùng chung trong toàn bộ chương trình*/
    </script>
  </body>
</html>
